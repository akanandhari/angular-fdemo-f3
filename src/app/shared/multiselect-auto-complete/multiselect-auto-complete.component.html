<mat-chip-list #chipList>
  <mat-chip *ngFor="let item of selectedItems" (removed)="remove(item)">
    {{ item.item }}
    <mat-icon matChipRemove>cancel</mat-icon>
  </mat-chip>

  <input
    type="text"
    #inputTrigger
    placeholder="Select items"
    matInput
    [matAutocomplete]="autoComplete"
    [formControl]="itemControl"
    [matChipInputFor]="chipList"
  />
</mat-chip-list>

<mat-autocomplete #autoComplete="matAutocomplete">
  <mat-option *ngFor="let item of filteredItems" [value]="selectedItems">
    <div (click)="optionClicked($event, item)">
      <mat-checkbox
        [checked]="item.selected"
        (change)="toggleSelection(item)"
        (click)="$event.stopPropagation()"
      >
        {{ item.item }}
      </mat-checkbox>
    </div>
  </mat-option>
</mat-autocomplete>
